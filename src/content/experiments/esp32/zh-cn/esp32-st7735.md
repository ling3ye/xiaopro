---
title: "ESP32 驱动 ST7735 彩色 TFT 显示屏"
boardId: "esp32-c3"
moduleId: "display/st7735"
date: 2024-02-01
intro: "使用 ESP32-C3 通过 SPI 接口驱动 1.8 英寸 TFT 彩色显示屏，显示彩色图形。"
---

## 实验简介

ST7735 是一款常见的 TFT 驱动芯片，支持 18-bit 彩色显示。本实验将使用 ESP32-C3 通过 SPI 接口驱动它，显示彩色图片和动画。

## 硬件连接

| ST7735 | ESP32-C3 |
|--------|----------|
| VCC | 3.3V |
| GND | GND |
| SCL (SCK) | GPIO 6 |
| SDA (MOSI) | GPIO 4 |
| RES | GPIO 8 |
| DC | GPIO 3 |
| CS | GPIO 5 |

## 所需库

- Adafruit ST7735
- Adafruit GFX Library

## 代码示例

```cpp
#include <Adafruit_GFX.h>
#include <Adafruit_ST7735.h>
#include <SPI.h>

#define TFT_CS   5
#define TFT_DC   3
#define TFT_RST  8

Adafruit_ST7735 tft = Adafruit_ST7735(TFT_CS, TFT_DC, TFT_RST);

void setup() {
  tft.initR(INITR_BLACKTAB);
  tft.fillScreen(ST77XX_BLACK);

  // 显示文字
  tft.setTextColor(ST77XX_WHITE);
  tft.setTextSize(2);
  tft.setCursor(20, 20);
  tft.print("Hello ESP32!");

  // 画圆
  tft.fillCircle(64, 80, 30, ST77XX_RED);
}

void loop() {
  // 简单的动画效果
  static int16_t x = 0;
  tft.fillCircle(x, 120, 10, ST77XX_BLUE);
  delay(50);
  tft.fillCircle(x, 120, 10, ST77XX_BLACK);
  x = (x + 5) % 128;
}
```

## 预期效果

屏幕显示彩色文字和一个红色圆圈，底部有一个蓝色的小球左右移动。
